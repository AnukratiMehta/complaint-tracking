@inject Microsoft.Extensions.Configuration.IConfiguration Configuration
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor ContextAccessor
@{
  var identity = ContextAccessor.HttpContext?.User?.Identity;
}
<script type="text/javascript">
  !function(a,b,c,d,e,f,g,h){a.RaygunObject=e,a[e]=a[e]||function(){
  (a[e].o=a[e].o||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0],
  f.async=1,f.src=d,g.parentNode.insertBefore(f,g),h=a.onerror,a.onerror=function(b,c,d,f,g){
  h&&h(b,c,d,f,g),g||(g=new Error(b)),a[e].q=a[e].q||[],a[e].q.push({
  e:g})}}(window,document,"script","//cdn.raygun.io/raygun4js/raygun.min.js","rg4js");
</script>
<script type="text/javascript">
  rg4js('apiKey', '@Configuration["RaygunSettings:ApiKey"]');
  rg4js('enableCrashReporting', true);
  rg4js('enablePulse', true);
@if (identity?.IsAuthenticated == true)
{
  <text>
  rg4js('setUser', {
    isAnonymous: false,
    identifier: '@identity.Name'
  });
  </text>
}
</script>
<environment names="Development">
  <script src="~/assets/lib/jquery/jquery.js"></script>
  <script src="~/assets/lib/jquery-ui/jquery-ui.js"></script>
  <script src="~/assets/lib/jquery-timepicker/jquery.timepicker.js"></script>
  <script src="~/assets/lib/fancybox/jquery.fancybox.js"></script>
  <script src="~/assets/js/uswds.js"></script>
</environment>
<environment names="Staging,Production">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" 
    asp-fallback-src="~/assets/lib/jquery/jquery.min.js"
    asp-fallback-test="window.jQuery"
    integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" 
    asp-fallback-src="~/assets/lib/jquery-ui/jquery-ui.min.js"
    asp-fallback-test="window.jQuery.ui"
    integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js" 
    asp-fallback-src="~/assets/jquery-timepicker/jquery.timepicker.js"
    asp-fallback-test="window.jQuery.TimePicker"
    integrity="sha512-ux1VHIyaPxawuad8d1wr1i9l4mTwukRq5B3s8G3nEmdENnKF5wKfOV6MEUH0k/rNT4mFr/yL+ozoDiwhUQekTg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" 
    asp-fallback-src="~/assets/lib/fancybox/jquery.fancybox.min.js"
    asp-fallback-test="$.fancybox"
    integrity="sha512-GtU3C24wUoqw9549QI/9K3/JVLHIVqdwdDVkEkaX8umZS7TGEaBFUSBJe6tU6/VAc20z9BkYN3Yw2Jov7pUrqQ==" crossorigin="anonymous"></script>
  <script src="~/assets/js/uswds.min.js" asp-append-version="true"></script>
</environment>
